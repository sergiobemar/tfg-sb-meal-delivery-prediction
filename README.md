# Meal Delivery Prediction - ShinyApp

Repository to launch, deploy and maintain the ShinyApp for the TFG project "Meal Delivery Prediction" used for showing the user every metrics and KPIs about the activity of the different center in their activity, delivery several meals.

Besides, it can show a prediction generated by the created [API for this project](https://github.com/sergiobemar/tfg-sb-meal-delivery-prediction-api/) for each center and meal.

Initially, this was the main repository, until it was splitted into one for the API code and keeping this for the code regarding the Shiny application and another scripts for the documentation.

## Anatomy

```
.
├── Dockerfile				- File used by Docker to generate the image
├── Rprofile.site			- Set the options to specify the port and the host used by Shiny
└── app					- Directory with all the files used by the app.R
    ├── config				- Configuration files
    ├── data				- Files with the different datasets
    │   ├── processed			- Processed datasets
    │   └── raw				- Original datasets
    ├── models				- To save the models in binary format, only used by the exploratory notebooks
    ├── notebooks			- Used in order to explore both data and the different functionalities
    ├── references			- Some files with links or relevant information for the notebooks
    ├── reports				- Reports generated by notebooks, not in .ipynb or .Rmd formats
    └── src				- Source code for use in this project
        ├── data			- Scripts to download or generate data
        ├── deploy			- Scripts to run the API while it was tested and the calls to the API server from ShinyApp
        ├── features			- Scripts to turn raw data into features for modeling
        ├── model			- Scripts to train models and then use trained models to make predictions
        ├── shiny			- Scripts to create exploratory and results oriented visualizations on Shiny
        ├── test			- Scripts or config files to test some functionalities before implementing in the application
        └── tools			- Utility functions

```

Generated using the following command ```tree . -d```

## How to run

To run this Shiny App it's neccesary to have installed Docker, and then you can deploy the app. Besides, you can test it using R. For a detailed information [you can visit this guide](https://github.com/sergiobemar/tfg-sb-meal-delivery-prediction) created in order to orient the developer in the deployment.

At first, if you don't have a machine with a static IP, you have to set this in the config file ```./app/config/config_shiny_app.json``` before being dockerize.

From the main path, where Dockerfile is, run the following commands:

```
sudo docker build -t shiny-app .
sudo docker run -it -p 80:3838 shiny-app
```

If you want to stop the container, you have to see its ID and then stop it

```
docker ps
docker stop [CONTAINER ID]
```